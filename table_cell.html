<!DOCTYPE html>
<html lang="en">

<head>
  <title>Table colspan rowspan</title>
  <style>
    table {
      border-collapse: collapse
    }

    table td {
      border: solid 1px #ccc;
      padding: 10px 20px;
      word-break: break-all;
    }

    .cannotselect {
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      -khtml-user-select: none;
      user-select: none;
    }

    td.selected {
      background: #0094ff;
      color: #fff
    }
  </style>
  <script type="text/javascript" src="./TableCellEditor.js"></script>
</head>

<body>
  <table border="1" id="tb1">
    <tr>
      <td colspan="2" id="t1">0-0，0-1</td>
      <td id="t2" rowspan="2">0-2<br />1-2</td>
      <td id="t3">0-3</td>
      <td id="t4">0-4</td>
    </tr>
    <tr>
      <td id="t5">1-0</td>
      <td id="t6">1-1</td>
      <td id="t7" colspan="2">1-3,1-4</td>
    </tr>
    <tr>
      <td rowspan="2" id="t8">2-0<br />3-0</td>
      <td id="t9">2-1</td>
      <td colspan="2" id="t10">2-2,2-3</td>
      <td id="t11">2-4</td>
    </tr>
    <tr>
      <td id="t12">3-1</td>
      <td colspan="3" id="t13">3-2,3-3,3-4</td>
    </tr>
  </table>
  <hr />
  <input type="button" id="btn-merge" value="合并选中单元格" />
  <input type="button" id="btn-break" value="取消合并选中单元格" />
  <input type="button" id="btn-delete" value="删除指定列" />

  <script type="text/javascript">
    (window.attachEvent || window.addEventListener)("load", function () {
      const mergeBtn = document.querySelector("#btn-merge");
      const breakBtn = document.querySelector("#btn-break");
      const deleteBtn = document.querySelector("#btn-delete");

      const myTable = new TableCellEditor(document.querySelector("#tb1"));

      mergeBtn.addEventListener("click", () => myTable.mergeCells.call(myTable));
      breakBtn.addEventListener("click", () => myTable.breakCells.call(myTable));
      deleteBtn.addEventListener("click", () => myTable.deleteColumn.call(myTable));
    }, false);
  </script>
</body>

</html>
